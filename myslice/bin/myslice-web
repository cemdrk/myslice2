#!/usr/bin/env python

'''
    MySlice version 2

    This app will launch the workers needed to setup the WEB interface,
    REST API and Websockets API

    (c) 2016 Ciro Scognamiglio <ciro.scognamiglio@lip6.fr>
'''

from tornado.ioloop import IOLoop
from myslice.web import server

#sys.path.append(os.path.realpath(os.path.dirname(__file__) + '/..'))
#print os.path.realpath(os.path.dirname(__file__) + '/..')

import logging
from myslice.web import Application

logger = logging.getLogger(__name__)

if __name__ == '__main__':

    logger.info("Starting web thread")

    IOLoop.current().run_sync(server)

    try :
        IOLoop.IOLoop.instance().start()
    except KeyboardInterrupt:
        IOLoop.IOLoop.instance().stop()
    except Exception as e:
        print(e)
        exit(1)