#!/usr/bin/env python3.5

##
#    MySlice version 2
#
#    This app will launch the workers needed to setup the WEB interface,
#    REST API and Websockets API
#
#    (c) 2016 Ciro Scognamiglio <ciro.scognamiglio@lip6.fr>
##

from tornado.ioloop import IOLoop
from myslice.web.server import run as WebServer

import logging

logger = logging.getLogger("myslice-web")

if __name__ == '__main__':

    logger.info("Starting web server")

    IOLoop.current().run_sync(WebServer)

    try :
        IOLoop.instance().start()
    except KeyboardInterrupt:
        IOLoop.instance().stop()
    except Exception as e:
        print(e)
        exit(1)